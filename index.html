<!DOCTYPE html>
<html>
<head>
    <title>钳工证理论历年真题（机械基础部分）</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body { 
            font-size: 40px;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .credit { 
            font-size: 40px !important;
            color: red;
            margin-bottom: 25px;
            text-align: center;
        }
        .input-group {
            margin: 40px 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .button-container {
            display: flex;
            justify-content: center;
            width: 100%;
            gap: 20px;
        }
        .input-group h3 {
            font-size: 36px !important;
            margin: 20px 0;
            color: #333;
        }
        .name-select, .input-field {
            width: 800px;
            padding: 30px;
            border: 4px solid #ddd;
            border-radius: 4px;
            font-size: 32px !important;
            transition: border-color 0.3s;
        }
        .action-btn {
            font-size: 32px !important;
            padding: 30px 60px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .timer {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 48px !important;
            font-weight: bold;
            color: #ff4757;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px 40px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        .question {
            padding: 40px;
            margin: 40px 0;
            border: 1px solid #ccc;
            width: 100%;
        }
        input[type="radio"] {
            -webkit-appearance: none;
            appearance: none;
            width: 60px;
            height: 60px;
            border: 4px solid #ddd;
            border-radius: 50%;
            margin-right: 30px;
            vertical-align: middle;
            position: relative;
            top: -5px;
        }
        input[type="radio"]:checked {
            background: #4CAF50;
            border-color: #4CAF50;
        }
        .correct-answer { 
            color: green !important;
            font-weight: bold;
        }
        .wrong-answer { 
            color: red !important;
            text-decoration: line-through;
        }
        .back-btn { 
            background: #2196F3;
            margin: 20px auto !important;
            display: block;
        }
        #nextBtn { background: #FF9800; }
        #submitAnswerBtn { background: #009688; }
        .error-tips {
            color: red;
            font-size: 50px;
            margin: 30px 0;
            text-align: center;
        }
        .result-container {
            max-height: 80vh;
            overflow-y: auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-top: 20px;
            width: 100%;
            text-align: center;
        }

        @media screen and (max-width: 600px) {
            .container { width: 95%; padding: 10px; }
            .name-select, .input-field { 
                width: 100%; 
                padding: 20px;
                font-size: 28px !important;
            }
            .action-btn { 
                width: 100%; 
                padding: 20px;
                font-size: 28px !important;
            }
            .question { padding: 20px; margin: 20px 0; }
            input[type="radio"] { 
                width: 40px; 
                height: 40px; 
                margin-right: 15px;
                top: -3px;
            }
            .error-tips { font-size: 40px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="passwordScreen">
            <div class="credit">由高州一职 Mr Li制作</div>
            <div class="input-group">
                <h3>请选择您的姓名：</h3>
                <select id="nameSelect" class="name-select">
                    <option value="" disabled selected>请选择姓名</option>
                </select>
            </div>
            <div class="input-group">
                <h3>请输入访问密码：</h3>
                <input type="password" id="passwordInput" class="input-field" placeholder="密码">
            </div>
            <div class="button-container">
                <button class="action-btn" id="startBtn">进入系统</button>
            </div>
        </div>
        
        <div id="quizScreen" style="display: none;">
            <div id="timer" class="timer">05:00</div>
            <div id="currentQuestion"></div>
            <div class="button-container">
                <button class="action-btn" id="submitAnswerBtn">确定答案</button>
                <button class="action-btn" id="nextBtn" style="display: none;">下一题</button>
            </div>
        </div>

        <div id="resultScreen" style="display: none;">
            <button class="action-btn back-btn" id="resetBtn">返回首页</button>
            <div id="finalResult">
                <h2 style="color:#2196F3; text-align: center;">考生姓名：</h2>
                <div class="score" style="text-align: center;"></div>
                <h3 style="text-align: center;"></h3>
                <div class="result-container"></div>
            </div>
        </div>
    </div>

    <script>
        (() => {
            const CONFIG = {
                password: '2426',
                examTime: 5,
                totalQuestions: 20,
                scorePerQuestion: 5
            };

            const studentList = [
                "邱日强", "黄火明", "杨名驰", "朱立乾", "邱耀铭", "葛金鹏", "梁皓轩",
                "郭恩瑞", "程剑豪", "罗远昊", "江柏冠", "卢宝增", "邓镇权", "黄庆飞",
                "谢泽高", "冯麟斌", "卢子豪", "张超城", "黄析俊", "黄永霖", "李鼎",
                "邓鸿镇", "黄培轩", "彭家乐", "黄新铧", "谢国永", "曾俊烽", "杨永建",
                "陈继贤", "刘金灿", "袁乐清", "朱冠帆", "张广隆", "梁国亮", "梁燕辰",
                "陈江南", "林浩宇", "蔡伟杰", "林松海", "吕仁才", "韦悦", "石江涛",
                "宁颢然", "刘付煜毅", "梁志鑫", "赖兆霆", "张梓钥", "冯子强", "陈家庆",
                "陈锡基", "苏子聪"
            ];

            const questions = [
                { question: "铸铁中平均含碳量一般为", options: ["A: 0.2%", "B: 0.7%", "C: 1.5%", "D: >2.11%"], correct: "D" },
                { question: "牌号HT200表示的材料是", options: ["A: 碳钢", "B: 合金钢", "C: 铸铁", "D: 黄铜"], correct: "C" },
                { question: "被连接件的孔都不切制螺纹的螺纹联接是", options: ["A: 螺栓联接", "B: 双头螺柱联接", "C: 螺钉联接", "D: 紧定螺钉联接"], correct: "A" },
                { question: "非螺纹密封管螺纹的牙型角为", options: ["A: 0°", "B: 30°", "C: 55°", "D: 60°"], correct: "C" },
                { question: "在带传动中带的弹性滑动", options: ["A: 在张紧力足够时可以避免", "B: 在传动功率较小时可以避免", "C: 在小带轮包角足够大时可以避免", "D: 不可避免"], correct: "D" },
                { question: "一对正常齿制标准外啮合直齿圆柱齿轮，模数为2 mm,小齿轮齿数为21,大齿轮齿数为63,这对齿轮的标准中心距为", options: ["A: 80mm", "B: 82mm", "C: 84mm", "D: 86mm"], correct: "C" },
                { question: "渐开线齿轮传动的瞬时传动比", options: ["A: 变化", "B: 恒定", "C: 增大", "D: 减小"], correct: "B" },
                { question: "链传动能用于", options: ["A: 交叉轴间的传动", "B: 交错轴间的传动", "C: 平行轴间的传动", "D: 可交错，又可平行轴间的传动"], correct: "C" },
                { question: "在铰链四杆机构中，若最短杆和最长杆的长度之和大于其余两杆的长度之和，则机构有", options: ["A: 一个曲柄", "B: 两个曲柄", "C: 一个摇杆", "D: 两个摇杆"], correct: "D" },
                { question: "常见的凸轮机构中，主动件凸轮通常作", options: ["A: 等速转动或移动", "B: 变速转动或移动", "C: 变速转动", "D: 变速移动"], correct: "A" },
                { question: "轴与轴承相配合的部分称为", options: ["A: 轴环", "B: 轴肩", "C: 轴颈", "D: 轴头"], correct: "C" },
                { question: "半圆键的工作面是键的", options: ["A: 上表面", "B: 圆表面", "C: 两侧面", "D: 上表面和圆表面"], correct: "C" },
                { question: "能承受径向载荷又能承受轴向载荷的滚动轴承是", options: ["A: 推力球轴承", "B: 圆锥滚子轴承", "C: 圆柱滚子轴承", "D: 滚针轴承"], correct: "B" },
                { question: "在机械图样上标注线性尺寸时，尺寸线用细实线画出", options: ["A: 也可以用其它图线代替", "B: 不能用其它图线代替", "C: 也可以与其它图线重合", "D: 也可以画在其它图线的延长线上"], correct: "B" },
                { question: "在六个基本视图中，右视图反映物体的", options: ["A: 长度和高度", "B: 长度和宽度", "C: 宽度和高度", "D: 长度、宽度和高度"], correct: "C" },
                { question: "在剖视图中，同一零件在各视图上的剖面线", options: ["A: 方向和间隔必须一致", "B: 方向必须一致，间隔可不一致", "C: 方向可不一致，间隔必须一致", "D: 方向和间隔可一致，也可不一致"], correct: "A" },
                { question: "根据齿轮的规定画法，绘制分度圆用", options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"], correct: "D" },
                { question: "Q235钢牌号中的235表示", options: ["A: 碳的质量分数（含碳量）", "B: 钢的质量等级", "C: 钢的脱氧方法", "D: 钢的屈服强度"], correct: "D" },
                { question: "联接螺纹首先要求自锁性好，而传动螺纹首先要求", options: ["A: 传动效率高", "B: 平稳性好", "C: 强度高", "D: 自锁性也好"], correct: "A" },
                { question: "螺纹标记M12—6H中的M表示", options: ["A: 管螺纹牙型代号", "B: 普通螺纹牙型代号", "C: 锯齿形螺纹牙型代号", "D: 梯形螺纹牙型代号"], correct: "B" },
                { question: "普通V带的横截面形状为", options: ["A: 矩形", "B: 圆形", "C: 扁平形", "D: 等腰梯形"], correct: "D" },
                { question: "有一标准直齿圆柱齿轮，模数为3mm，齿数为20,这个齿轮的分度圆直径为", options: ["A: 50mm", "B: 55mm", "C: 60mm", "D: 65mm"], correct: "C" },
                { question: "国家标准规定齿轮压力角在", options: ["A: 齿顶圆上", "B: 齿根圆上", "C: 分度圆上", "D: 基圆上"], correct: "C" },
                { question: "渐开线齿轮传动的瞬时传动比", options: ["A: 变化", "B: 恒定", "C: 增大", "D: 减小"], correct: "B" },
                { question: "下列传动中，属于啮合类的传动是", options: ["A: 普通V带传动", "B: 平带传动", "C: 圆带传动", "D: 链传动"], correct: "D" },
                { question: "与机架连接且只能在某一角度范围内摆动的构件称为", options: ["A: 曲柄", "B: 摇杆", "C: 连杆", "D: 机架"], correct: "B" },
                { question: "能准确地实现复杂运动规律的从动件端部结构是", options: ["A: 尖顶", "B: 滚子", "C: 平底", "D: 曲面"], correct: "A" },
                { question: "轴上的键槽通常采用的加工方法是", options: ["A: 插削", "B: 拉削", "C: 钻及铰", "D: 铣削"], correct: "D" },
                { question: "滚动轴承内圈通常装在轴颈上，一般内圈与轴", options: ["A: 一起转动", "B: 相对转动", "C: 反向转动", "D: 固定不动"], correct: "A" },
                { question: "主视图所在的投影面简称为", options: ["A: 正面", "B: 反面", "C: 侧面", "D: 水平面"], correct: "A" },
                { question: "三视图的投影规律中，主视图与左视图应", options: ["A: 长对正", "B: 高平齐", "C: 宽相等", "D: 高平齐、宽也相等"], correct: "B" },
                { question: "绘制半剖视图时，半个视图和半个剖视图的分界线应为", options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 点画线"], correct: "A" },
                { question: "无论外螺纹还是内螺纹，在剖视图或断面图中的剖面线应画到", options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"], correct: "A" },
                { question: "T10A是", options: ["A: 结构钢", "B: 工具钢", "C: 轴承钢", "D: 特殊性能钢"], correct: "B" },
                { question: "在下列钢号中，属于合金工具钢的是", options: ["A: T12A", "B: 40Cr", "C: Q235", "D: CrWMn"], correct: "D" },
                { question: "常用的联接螺纹是", options: ["A: 单线左旋", "B: 单线右旋", "C: 双线左旋", "D: 双线右旋"], correct: "B" },
                { question: "下列螺纹中，牙型角为60°的是", options: ["A: 管螺纹", "B: 锯齿形螺纹", "C: 梯形螺纹", "D: 普通螺纹"], correct: "D" },
                { question: "在一般的机械传动中，应用最广的带传动是", options: ["A: 平带传动", "B: 普通V带传动", "C: 圆带传动", "D: 同步带传动"], correct: "B" },
                { question: "某标准直齿圆柱齿轮的全齿高等于9mm,其模数为", options: ["A: 2mm", "B: 2.5mm", "C: 3mm", "D: 4mm"], correct: "D" },
                { question: "我国规定常用直齿圆柱齿轮的标准压力角为", options: ["A: 24°", "B: 17°", "C: 20°", "D: 14°30'"], correct: "C" },
                { question: "齿轮上形成渐开线的圆称为", options: ["A: 齿顶圆", "B: 齿根圆", "C: 分度圆", "D: 基圆"], correct: "D" },
                { question: "链传动是", options: ["A: 具有中间刚性件的啮合传动", "B: 具有中间弹性件的啮合传动", "C: 具有中间挠性件的啮合传动", "D: 非啮合传动"], correct: "C" },
                { question: "铰链四杆机构中各构件以", options: ["A: 转动副相联接", "B: 移动副相联接", "C: 螺旋副相联接", "D: 高副相联接"], correct: "A" },
                { question: "在下列凸轮机构中，主动件凸轮作左右往复移动，从动件作上下往复移动的是", options: ["A: 盘形凸轮", "B: 移动凸轮", "C: 圆柱凸轮", "D: 曲面凸轮"], correct: "B" }
            ];

            let state = {
                currentQuestionIndex: 0,
                userAnswers: {},
                userName: '',
                countdownTimer: null,
                selectedQuestions: []
            };

            const elements = {
                passwordScreen: document.getElementById('passwordScreen'),
                quizScreen: document.getElementById('quizScreen'),
                resultScreen: document.getElementById('resultScreen'),
                nameSelect: document.getElementById('nameSelect'),
                passwordInput: document.getElementById('passwordInput'),
                startBtn: document.getElementById('startBtn'),
                currentQuestion: document.getElementById('currentQuestion'),
                submitAnswerBtn: document.getElementById('submitAnswerBtn'),
                nextBtn: document.getElementById('nextBtn'),
                timer: document.getElementById('timer'),
                finalResult: document.getElementById('finalResult'),
                resetBtn: document.getElementById('resetBtn')
            };

            function init() {
                // 初始化学生名单
                studentList.forEach(student => {
                    const option = document.createElement('option');
                    option.value = student;
                    option.textContent = student;
                    elements.nameSelect.appendChild(option);
                });

                // 绑定事件
                elements.startBtn.addEventListener('click', checkPassword);
                elements.submitAnswerBtn.addEventListener('click', checkAnswer);
                elements.nextBtn.addEventListener('click', nextQuestion);
                elements.resetBtn.addEventListener('click', resetSystem);
            }

            function resetSystem() {
                clearInterval(state.countdownTimer);
                state = {
                    currentQuestionIndex: 0,
                    userAnswers: {},
                    userName: '',
                    countdownTimer: null,
                    selectedQuestions: []
                };
                elements.passwordScreen.style.display = 'block';
                elements.quizScreen.style.display = 'none';
                elements.resultScreen.style.display = 'none';
                elements.nameSelect.selectedIndex = 0;
                elements.passwordInput.value = '';
                window.scrollTo({ top: 0, behavior: 'instant' });
            }

            function checkPassword() {
                const selectedName = elements.nameSelect.value;
                const password = elements.passwordInput.value;
                
                if (!selectedName || selectedName === "请选择姓名") {
                    alert("请先选择您的姓名！");
                    return;
                }
                if (password !== CONFIG.password) {
                    alert("密码错误！");
                    return;
                }

                state.userName = selectedName;
                elements.passwordScreen.style.display = 'none';
                elements.quizScreen.style.display = 'block';
                initializeQuiz();
                startTimer();
            }

            function startTimer() {
                let time = CONFIG.examTime * 60;
                state.countdownTimer = setInterval(() => {
                    time--;
                    const minutes = ("0" + Math.floor(time / 60)).slice(-2);
                    const seconds = ("0" + (time % 60)).slice(-2);
                    elements.timer.textContent = `${minutes}:${seconds}`;
                    if (time <= 0) submitQuiz();
                }, 1000);
            }

            function initializeQuiz() {
                state.selectedQuestions = questions.sort(() => Math.random() - 0.5).slice(0, CONFIG.totalQuestions);
                state.currentQuestionIndex = 0;
                showCurrentQuestion();
            }

            function showCurrentQuestion() {
                const q = state.selectedQuestions[state.currentQuestionIndex];
                let html = `<div class="question">
                    <p>第${state.currentQuestionIndex + 1}题：${q.question}</p>
                    <div class="options">`;
                
                q.options.forEach(opt => {
                    const isChecked = state.userAnswers[state.currentQuestionIndex] === opt[0];
                    html += `<label>
                        <input type="radio" name="current" value="${opt[0]}" ${isChecked ? 'checked' : ''}>
                        ${opt}
                    </label><br>`;
                });
                
                elements.currentQuestion.innerHTML = html + '</div></div>';
                elements.submitAnswerBtn.style.display = 'block';
                elements.nextBtn.style.display = 'none';
            }

            function checkAnswer() {
                const selected = document.querySelector('input[name="current"]:checked');
                const userAnswer = selected ? selected.value : '';
                const q = state.selectedQuestions[state.currentQuestionIndex];
                
                // 显示即时反馈
                const errorTips = document.createElement('div');
                errorTips.className = 'error-tips';
                if(userAnswer !== q.correct) {
                    errorTips.innerHTML = `✘ 正确答案：${q.options.find(opt => opt[0] === q.correct)}`;
                } else {
                    errorTips.innerHTML = `✔ 回答正确`;
                    errorTips.style.color = 'green';
                }
                document.querySelector('.error-tips')?.remove();
                elements.currentQuestion.after(errorTips);

                // 高亮答案
                document.querySelectorAll('label').forEach(label => {
                    const optValue = label.querySelector('input').value;
                    label.style.color = optValue === q.correct ? 'green' : 
                                     (optValue === userAnswer ? 'red' : '#333');
                });

                // 保存答案
                state.userAnswers[state.currentQuestionIndex] = userAnswer;
                elements.submitAnswerBtn.style.display = 'none';
                elements.nextBtn.style.display = 'block';
            }

            function nextQuestion() {
                state.currentQuestionIndex++;
                if(state.currentQuestionIndex < CONFIG.totalQuestions) {
                    showCurrentQuestion();
                } else {
                    submitQuiz();
                }
            }

            function submitQuiz() {
                clearInterval(state.countdownTimer);
                
                // 计算得分
                let correctCount = 0;
                const wrongDetails = [];
                state.selectedQuestions.forEach((q, index) => {
                    if(state.userAnswers[index] === q.correct) {
                        correctCount++;
                    } else {
                        wrongDetails.push({
                            ...q,
                            number: index + 1,
                            userAnswer: state.userAnswers[index]
                        });
                    }
                });

                // 显示结果
                elements.quizScreen.style.display = 'none';
                elements.resultScreen.style.display = 'block';
                elements.finalResult.innerHTML = `
                    <h2 style="color:#2196F3; text-align: center;">考生姓名：${state.userName}</h2>
                    <div class="score" style="text-align: center;">得分：${correctCount * CONFIG.scorePerQuestion}分</div>
                    <h3 style="text-align: center;">正确：${correctCount}题 / 总计：${CONFIG.totalQuestions}题</h3>
                    ${wrongDetails.length ? `
                        <div class="result-container">
                            <h4>错题解析（共${wrongDetails.length}题）：</h4>
                            ${wrongDetails.map(item => `
                                <div class="wrong-question">
                                    <p>第${item.number}题：${item.question}</p>
                                    <div class="options">
                                        ${item.options.map(opt => `
                                            <div class="${opt[0] === item.correct ? 'correct-answer' : 
                                                         opt[0] === item.userAnswer ? 'wrong-answer' : ''}">
                                                ${opt}
                                            </div>
                                        `).join('')}
                                    </div>
                                </div><hr>
                            `).join('')}
                        </div>
                    ` : ''}
                `;
                window.scrollTo(0, 0);
            }

            init();
        })();
    </script>
</body>
</html>
