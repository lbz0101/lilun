<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>钳工证理论历年真题（机械基础部分）</title>
  <style>
    .question p, .options label, 
    #finalResult h2, .score,
    #finalResult h3, .wrong-question p,
    .wrong-question .options div {
        font-size: 70px !important;
    }

    :root {
        --correct-color: #2e7d32; 
        --wrong-color: #c62828;
        --primary-color: #4CAF50;
        --timer-color: #ff4757;
    }

    .options label {
        display: flex;
        align-items: center;
        margin: 8px 0;
    }
    .options input[type="radio"] {
        width: 50px;
        height: 50px;
        margin-right: 20px;
        accent-color: var(--primary-color);
    }

    .question {
        margin: -30px 0 15px 0;
        border: 1px solid #ccc;
        padding: 15px;
        background: #f8f9fa;
    }

    .feedback {
        font-size: 70px;
        padding: 20px;
        margin: 20px 0;
        border-radius: 10px;
        display: none;
    }
    .correct-feedback { background: color-mix(in srgb, var(--correct-color) 10%, white) }
    .wrong-feedback { background: color-mix(in srgb, var(--wrong-color) 10%, white) }

    .action-btn {
        padding: 20px 40px;
        margin: 20px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 60px;
        transition: background 0.3s;
        background: var(--primary-color);
        color: white;
    }
    .action-btn:hover { background: color-mix(in srgb, var(--primary-color), black 15%) }
    .back-btn { background: #2196F3; }

    .timer {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        font: bold 24px/1.5 sans-serif;
        color: var(--timer-color);
        background: rgba(255, 255, 255, 0.9);
        padding: 10px 20px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        z-index: 1000;
    }

    .button-group { 
        display: flex;
        gap: 20px;
        margin-top: 30px;
    }

    .result-container { max-height: 80vh; overflow-y: auto; padding: 20px; border: 1px solid #ddd; border-radius: 5px; margin-top: 20px; }
    .input-group { margin: 15px 0; }
    .input-group h3 { margin: 10px 0; color: #333; font-size: 36px; }
    .input-field, .name-select {
        width: 250px;
        padding: 12px;
        margin: 5px 0;
        border: 2px solid #ddd;
        border-radius: 4px;
        font-size: 32px;
        transition: border-color 0.3s;
    }
    .input-field:focus, .name-select:focus {
        border-color: var(--primary-color);
        outline: none;
    }
    .wrong-question { color: black; }
    .correct-answer { color: red; }
    .wrong-answer { text-decoration: line-through; }
    .credit { font-size: 40px; color: red; margin-bottom: 25px; }
    .container { max-width: 800px; margin: 20px auto; padding: 20px; }
    .password-box, .result-screen { text-align: center; margin: 50px 0; }
    .rank-link {
        color: #2196F3;
        text-decoration: none;
        margin-top: 10px;
        display: block;
        font-size: 28px;
    }
    .rank-box {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0,0,0,0.2);
        z-index: 9999;
        max-width: 500px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        display: none;
    }
    .rank-header {
        font-size: 40px;
        color: var(--primary-color);
        margin-bottom: 20px;
        text-align: center;
    }
    .rank-item {
        display: flex;
        justify-content: space-between;
        padding: 10px;
        border-bottom: 1px solid #eee;
    }
    .rank-number { width: 40px; font-weight: bold; }
    .rank-name { flex: 2; }
    .rank-score { flex: 1; text-align: right; color: var(--timer-color); }
    .close-btn {
        position: absolute;
        right: 15px;
        top: 15px;
        cursor: pointer;
        font-size: 40px;
        color: #999;
    }
  </style>
</head>
<body>
  <div id="rankBox" class="rank-box">
    <div class="close-btn" onclick="closeRank()">×</div>
    <div class="rank-header">🏆 实时排行榜</div>
    <div id="rankList"></div>
  </div>

  <div class="container">
   <div id="passwordScreen" class="password-box">
  <div class="credit">由高州一职 Mr黎 制作</div>
  <div class="input-group">
    <h3>请选择您的姓名：</h3>
    <select id="nameSelect" class="name-select">
      <option value="" disabled selected>请选择姓名</option>
    </select>
  </div>
  <!-- 新增密码输入框 -->
  <div class="input-group">
    <h3>请输入密码：</h3>
    <input type="password" id="passwordInput" class="input-field" placeholder="请输入密码">
  </div>
  <button class="action-btn" onclick="checkPassword()">进入系统</button>
  <a href="javascript:void(0)" class="rank-link" onclick="showRank()">查看实时排行榜 →</a>
</div>

    
    <div id="quizScreen" style="display: none;">
      <div id="timer" class="timer">05:00</div>
      <div id="currentQuestion"></div>
      <div class="feedback" id="feedback"></div>
      <div class="button-group">
        <button class="action-btn" id="confirmBtn" onclick="checkAnswer()" style="display: none;">确定答案</button>
        <button class="action-btn" id="nextBtn" onclick="showNextQuestion()" style="display: none;">下一题</button>
      </div>
    </div>

    <div id="resultScreen" class="result-screen" style="display: none;">
      <button class="action-btn back-btn" onclick="location.reload()">返回首页</button>
      <div id="finalResult">
        <h2 style="color:#2196F3"></h2>
        <div class="score"></div>
        <h3></h3>
      </div>
    </div>
  </div>

  <script>
    const CONFIG = {
      storageKey: 'quiz_rank',
      totalQuestions: 20,
      totalTime: 300, // 总考试时间（5分钟=300秒）
      scorePerQuestion: 5
    };

    const studentList = [
      "邱日强","黄火明","杨名驰","朱立乾","邱耀铭","葛金鹏","梁皓轩",
      "郭恩瑞","程剑豪","罗远昊","江柏冠","卢宝增","邓镇权","黄庆飞",
      "谢泽高","冯麟斌","卢子豪","张超城","黄析俊","黄永霖","李鼎",
      "邓鸿镇","黄培轩","彭家乐","黄新铧","谢国永","曾俊烽","杨永建",
      "陈继贤","刘金灿","袁乐清","朱冠帆","张广隆","梁国亮","梁燕辰",
      "陈江南","林浩宇","蔡伟杰","林松海","吕仁才","韦悦","石江涛",
      "宁颢然","刘付煜毅","梁志鑫","赖兆霆","张梓钥","冯子强","陈家庆",
      "陈锡基","苏子聪"
    ];
        const questions = [
            { question: "铸铁中平均含碳量一般为", options: ["A: 0.2%", "B: 0.7%", "C: 1.5%", "D: >2.11%"], correct: "D" },
            { question: "牌号HT200表示的材料是", options: ["A: 碳钢", "B: 合金钢", "C: 铸铁", "D: 黄铜"], correct: "C" },
            { question: "被连接件的孔都不切制螺纹的螺纹联接是", options: ["A: 螺栓联接", "B: 双头螺柱联接", "C: 螺钉联接", "D: 紧定螺钉联接"], correct: "A" },
            { question: "非螺纹密封管螺纹的牙型角为", options: ["A: 0°", "B: 30°", "C: 55°", "D: 60°"], correct: "C" },
 {
            "question": "在带传动中带的弹性滑动",
            "options": ["A: 在张紧力足够时可以避免", "B: 在传动功率较小时可以避免", "C: 在小带轮包角足够大时可以避免", "D: 不可避免"],
            "correct": "D"
        },
        {
            "question": "一对正常齿制标准外啮合直齿圆柱齿轮，模数为2 mm,小齿轮齿数为21,大齿轮齿数为63,这对齿轮的标准中心距为",
            "options": ["A: 80mm", "B: 82mm", "C: 84mm", "D: 86mm"],
            "correct": "C"
        },
        {
            "question": "渐开线齿轮传动的瞬时传动比",
            "options": ["A: 变化", "B: 恒定", "C: 增大", "D: 减小"],
            "correct": "B"
        },
        {
            "question": "链传动能用于",
            "options": ["A: 交叉轴间的传动", "B: 交错轴间的传动", "C: 平行轴间的传动", "D: 可交错，又可平行轴间的传动"],
            "correct": "C"
        },
        {
            "question": "在铰链四杆机构中，若最短杆和最长杆的长度之和大于其余两杆的长度之和，则机构有",
            "options": ["A: 一个曲柄", "B: 两个曲柄", "C: 一个摇杆", "D: 两个摇杆"],
            "correct": "D"
        },
        {
            "question": "常见的凸轮机构中，主动件凸轮通常作",
            "options": ["A: 等速转动或移动", "B: 变速转动或移动", "C: 变速转动", "D: 变速移动"],
            "correct": "A"
        },
        {
            "question": "轴与轴承相配合的部分称为",
            "options": ["A: 轴环", "B: 轴肩", "C: 轴颈", "D: 轴头"],
            "correct": "C"
        },
        {
            "question": "半圆键的工作面是键的",
            "options": ["A: 上表面", "B: 圆表面", "C: 两侧面", "D: 上表面和圆表面"],
            "correct": "C"
        },
        {
            "question": "能承受径向载荷又能承受轴向载荷的滚动轴承是",
            "options": ["A: 推力球轴承", "B: 圆锥滚子轴承", "C: 圆柱滚子轴承", "D: 滚针轴承"],
            "correct": "B"
        },
        {
            "question": "在机械图样上标注线性尺寸时，尺寸线用细实线画出",
            "options": ["A: 也可以用其它图线代替", "B: 不能用其它图线代替", "C: 也可以与其它图线重合", "D: 也可以画在其它图线的延长线上"],
            "correct": "B"
        },
        {
            "question": "在六个基本视图中，右视图反映物体的",
            "options": ["A: 长度和高度", "B: 长度和宽度", "C: 宽度和高度", "D: 长度、宽度和高度"],
            "correct": "C"
        },
        {
            "question": "在剖视图中，同一零件在各视图上的剖面线",
            "options": ["A: 方向和间隔必须一致", "B: 方向必须一致，间隔可不一致", "C: 方向可不一致，间隔必须一致", "D: 方向和间隔可一致，也可不一致"],
            "correct": "A"
        },
        {
            "question": "根据齿轮的规定画法，绘制分度圆用",
            "options": ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
            "correct": "D"
        },
        {
            "question": "Q235钢牌号中的235表示",
            "options": ["A: 碳的质量分数（含碳量）", "B: 钢的质量等级", "C: 钢的脱氧方法", "D: 钢的屈服强度"],
            "correct": "D"
        },
        {
            "question": "牌号HT200表示的材料为",
            "options": ["A: 碳钢", "B: 合金钢", "C: 黄铜", "D: 铸铁"],
            "correct": "D"
        },
        {
            "question": "联接螺纹首先要求自锁性好，而传动螺纹首先要求",
            "options": ["A: 传动效率高", "B: 平稳性好", "C: 强度高", "D: 自锁性也好"],
            "correct": "A"
        },
        {
            "question": "螺纹标记M12—6H中的M表示",
            "options": ["A: 管螺纹牙型代号", "B: 普通螺纹牙型代号", "C: 锯齿形螺纹牙型代号", "D: 梯形螺纹牙型代号"],
            "correct": "B"
        },
        {
            "question": "普通V带的横截面形状为",
            "options": ["A: 矩形", "B: 圆形", "C: 扁平形", "D: 等腰梯形"],
            "correct": "D"
        },
        {
            "question": "有一标准直齿圆柱齿轮，模数为3mm，齿数为20,这个齿轮的分度圆直径为",
            "options": ["A: 50mm", "B: 55mm", "C: 60mm", "D: 65mm"],
            "correct": "C"
        },
        {
            "question": "国家标准规定齿轮压力角在",
            "options": ["A: 齿顶圆上", "B: 齿根圆上", "C: 分度圆上", "D: 基圆上"],
            "correct": "C"
        },
        {
            "question": "渐开线齿轮传动的瞬时传动比",
            "options": ["A: 变化", "B: 恒定", "C: 增大", "D: 减小"],
            "correct": "B"
        },
        {
            "question": "下列传动中，属于啮合类的传动是",
            "options": ["A: 普通V带传动", "B: 平带传动", "C: 圆带传动", "D: 链传动"],
            "correct": "D"
        },
        {
            "question": "与机架连接且只能在某一角度范围内摆动的构件称为",
            "options": ["A: 曲柄", "B: 摇杆", "C: 连杆", "D: 机架"],
            "correct": "B"
        },
        {
            "question": "能准确地实现复杂运动规律的从动件端部结构是",
            "options": ["A: 尖顶", "B: 滚子", "C: 平底", "D: 曲面"],
            "correct": "A"
        },
        {
            "question": "轴与轴承相配合的部分称为",
            "options": ["A: 轴环", "B: 轴肩", "C: 轴颈", "D: 轴头"],
            "correct": "C"
        },
        {
            "question": "轴上的键槽通常采用的加工方法是",
            "options": ["A: 插削", "B: 拉削", "C: 钻及铰", "D: 铣削"],
            "correct": "D"
        },
        {
            "question": "滚动轴承内圈通常装在轴颈上，一般内圈与轴",
            "options": ["A: 一起转动", "B: 相对转动", "C: 反向转动", "D: 固定不动"],
            "correct": "A"
        },
        {
            "question": "主视图所在的投影面简称为",
            "options": ["A: 正面", "B: 反面", "C: 侧面", "D: 水平面"],
            "correct": "A"
        },
        {
            "question": "三视图的投影规律中，主视图与左视图应",
            "options": ["A: 长对正", "B: 高平齐", "C: 宽相等", "D: 高平齐、宽也相等"],
            "correct": "B"
        },
        {
            "question": "绘制半剖视图时，半个视图和半个剖视图的分界线应为",
            "options": ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 点画线"],
            "correct": "A"
        },
        {
            "question": "无论外螺纹还是内螺纹，在剖视图或断面图中的剖面线应画到",
            "options": ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
            "correct": "A"
        },
        {
            "question": "T10A是",
            "options": ["A: 结构钢", "B: 工具钢", "C: 轴承钢", "D: 特殊性能钢"],
            "correct": "B"
        },
        {
            "question": "在下列钢号中，属于合金工具钢的是",
            "options": ["A: T12A", "B: 40Cr", "C: Q235", "D: CrWMn"],
            "correct": "D"
        },
        {
            "question": "常用的联接螺纹是",
            "options": ["A: 单线左旋", "B: 单线右旋", "C: 双线左旋", "D: 双线右旋"],
            "correct": "B"
        },
        {
            "question": "下列螺纹中，牙型角为60°的是",
            "options": ["A: 管螺纹", "B: 锯齿形螺纹", "C: 梯形螺纹", "D: 普通螺纹"],
            "correct": "D"
        },
        {
            "question": "在一般的机械传动中，应用最广的带传动是",
            "options": ["A: 平带传动", "B: 普通V带传动", "C: 圆带传动", "D: 同步带传动"],
            "correct": "B"
        },
        {
            "question": "某标准直齿圆柱齿轮的全齿高等于9mm,其模数为",
            "options": ["A: 2mm", "B: 2.5mm", "C: 3mm", "D: 4mm"],
            "correct": "D"
        },
        {
            "question": "我国规定常用直齿圆柱齿轮的标准压力角为",
            "options": ["A: 24°", "B: 17°", "C: 20°", "D: 14°30'"],
            "correct": "C"
        },
        {
            "question": "齿轮上形成渐开线的圆称为",
            "options": ["A: 齿顶圆", "B: 齿根圆", "C: 分度圆", "D: 基圆"],
            "correct": "D"
        },
        {
            "question": "链传动是",
            "options": ["A: 具有中间刚性件的啮合传动", "B: 具有中间弹性件的啮合传动", "C: 具有中间挠性件的啮合传动", "D: 非啮合传动"],
            "correct": "C"
        },
        {
            "question": "铰链四杆机构中各构件以",
            "options": ["A: 转动副相联接", "B: 移动副相联接", "C: 螺旋副相联接", "D: 高副相联接"],
            "correct": "A"
        },
        {
            "question": "在下列凸轮机构中，主动件凸轮作左右往复移动，从动件作上下往复移动的是",
            "options": ["A: 盘形凸轮", "B: 移动凸轮", "C: 圆柱凸轮", "D: 曲面凸轮"],
            "correct": "B"
        },
        {
            "question": "齿轮、带轮等传动件在轴上最为广泛使用的周向固定方法是",
            "options": ["A: 键联接", "B: 销联接", "C: 螺纹联接", "D: 过盈配合"],
            "correct": "A"
        },
        {
            "question": "普通平键的工作面是键的",
            "options": ["A: 上表面", "B: 下表面", "C: 上表面和下表面", "D: 两侧面"],
            "correct": "D"
        },
        {
            "question": "滚动轴承代号3208中，08是轴承的",
            "options": ["A: 内径代号", "B: 外径代号", "C: 宽（高）度代号", "D: 类型代号"],
            "correct": "A"
        },
        {
            "question": "标注角度尺寸时，尺寸数字一律写成",
            "options": ["A: 铅垂方向", "B: 倾斜方向", "C: 水平方向", "D: 任意方向"],
            "correct": "C"
        },
        {
            "question": "主视图反映机件的方位是",
            "options": ["A: 上、下和左、右", "B: 左、右和前、后", "C: 上、下和前、后", "D: 上、下、左、右和前、后"],
            "correct": "A"
        },
        {
            "question": "在机械图样中，向视图的视图配置可表述为",
            "options": ["A: 按基本视图的配置形式配置", "B: 必须按投影关系配置", "C: 可以自由配置", "D: 按第三角画法的配置规定配置"],
            "correct": "C"
        },
        {
            "question": "根据螺纹的规定画法，外螺纹的螺纹终止线用",
            "options": ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
            "correct": "A"
        },
        {
            "question": "45钢是",
            "options": ["A: 结构钢", "B: 工具钢", "C: 轴承钢", "D: 特殊性能钢"],
            "correct": "A"
        },
        {
            "question": "在下列钢号中，属于碳素结构钢的是",
            "options": ["A: TI0A", "B: 40Cr", "C: Q235", "D: CrWMn"],
            "correct": "C"
        },
        {
            "question": "联接螺纹的牙型一般为",
            "options": ["A: 三角形", "B: 梯形", "C: 矩形", "D: 锯齿形"],
            "correct": "A"
        },
        {
            "question": "普通螺纹的牙型角为",
            "options": ["A: 3°", "B: 30°", "C: 55°", "D: 60°"],
            "correct": "D"
        },
        {
            "question": "在下列传动中，传动件在过载时能起到安全保护作用的是",
            "options": ["A: 齿轮传动", "B: 螺旋传动", "C: V带传动", "D: 链传动"],
            "correct": "C"
        },
        {
            "question": "标准直齿圆柱齿轮的全齿高h为",
            "options": ["A: 1m", "B: 1.25m", "C: 2m", "D: 2.25m"],
            "correct": "D"
        },
        {
            "question": "直齿圆柱外齿轮的齿顶圆、齿根圆、分度圆的大小关系为",
            "options": ["A: 齿顶圆>齿根圆>分度圆", "B: 齿顶圆>分度圆>齿根圆", "C: 齿根圆>齿顶圆>分度圆", "D: 分度圆>齿根圆>齿顶圆"],
            "correct": "B"
        },
        {
            "question": "在齿轮机构中，用于两轴线平行的齿轮传动是",
            "options": ["A: 直齿圆柱齿轮传动", "B: 直齿圆锥齿轮传动", "C: 斜齿圆锥齿轮传动", "D: 蜗杆传动"],
            "correct": "A"
        },
        {
            "question": "链传动只限用于",
            "options": ["A: 交叉轴间的传动", "B: 相交轴间的传动", "C: 交错轴间的传动", "D: 平行轴间的传动"],
            "correct": "D"
        },
            {
                question: "在曲柄摇杆机构中，最短的构件是",
                options: ["A: 曲柄", "B: 摇杆", "C: 连杆", "D: 机架"],
                correct: "A"
            },
                {
                    question: "凸轮机构中凸轮与从动杆接触处的运动到属于",
                    options: ["A: 移动副", "B: 转动副", "C: 高副", "D: 齿轮副"],
                    correct: "C"
                },
                {
                    question: "轴环的用途是",
                    options: ["A: 作为轴加工时的定位面", "B: 提高轴的强度", "C: 提高轴的刚度", "D: 使轴上零件获得轴向定位"],
                    correct: "D"
                },
                {
                    question: "半圆键的工作面是键的",
                    options: ["A: 上表面", "B: 圆表面", "C: 两侧面", "D: 上表面和圆表面"],
                    correct: "C"
                },
                {
                    question: "滚动轴承代号的基础是",
                    options: ["A: 前置代号", "B: 后置代号", "C: 前置代号和后置代号", "D: 基本代号"],
                    correct: "D"
                },
                {
                    question: "俯视图所在的投影面简称为",
                    options: ["A: 正面", "B: 反面", "C: 侧面", "D: 水平面"],
                    correct: "D"
                },
                {
                    question: "三视图的投影规律中，俯视图与左视图应",
                    options: ["A: 长对正", "B: 高平齐", "C: 宽相等", "D: 宽相等、高也平齐"],
                    correct: "C"
                },
                {
                    question: "在机械图样中，绘制重合断面的轮廓线用",
                    options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
                    correct: "B"
                },
                {
                    question: "根据螺纹的规定画法，绘制外螺纹的螺纹小径用",
                    options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
                    correct: "B"
                },
                {
                    question: "Q235钢是",
                    options: ["A: 工具钢", "B: 结构钢", "C: 轴承钢", "D: 特殊性能钢"],
                    correct: "B"
                },
                {
                    question: "HT150表示的材料为",
                    options: ["A: 碳钢", "B: 合金钢", "C: 铸铁", "D: 黄铜"],
                    correct: "C"
                },
                {
                    question: "传动螺纹首先要求传动效率高，而联接螺纹首先要求",
                    options: ["A: 自锁性好", "B: 平稳性好", "C: 强度高", "D: 效率也高"],
                    correct: "A"
                },
                {
                    question: "普通螺纹的公称直径是",
                    options: ["A: 螺纹小径", "B: 螺纹中径", "C: 螺纹大径", "D: 平均直径"],
                    correct: "C"
                },
                {
                    question: "V带传动传递运动和动力是依靠",
                    options: ["A: 主轴的动力", "B: 带和带轮之间的摩擦力", "C: 主动带轮的转矩", "D: 带在轴上的压力"],
                    correct: "B"
                },
                {
                    question: "有一标准外啮合直齿圆柱齿轮，模数为2mm,分度圆直径为50mm,齿数为",
                    options: ["A: 20", "B: 25", "C: 30", "D: 50"],
                    correct: "B"
                },
                {
                    question: "在渐开线标准直齿圆柱齿轮上，齿厚与齿槽宽相等的圆称为",
                    options: ["A: 齿顶圆", "B: 齿根圆", "C: 分度圆", "D: 基圆"],
                    correct: "C"
                },
                {
                    question: "对于齿数相同的齿轮，模数越大，齿轮的承载能力",
                    options: ["A: 越大", "B: 越小", "C: 有时候大，有时候小", "D: 与模数无关"],
                    correct: "A"
                },
                {
                    question: "链传动与带传动相比，其主要优点是",
                    options: ["A: 工作平稳，且无噪声", "B: 制造费用低", "C: 平均传动比准确", "D: 使用寿命长"],
                    correct: "C"
                },
                {
                    question: "与机架连接且能做整周旋转运动的构件称为",
                    options: ["A: 曲柄", "B: 摇杆", "C: 连杆", "D: 机架"],
                    correct: "A"
                },
                {
                    question: "凸轮的最基本型式是",
                    options: ["A: 盘形凸轮", "B: 移动凸轮", "C: 槽形圆柱凸轮", "D: 端面圆柱凸轮"],
                    correct: "A"
                },
                {
                    question: "轴与传动零件（轮毂）相配合的部分称为",
                    options: ["A: 轴环", "B: 轴肩", "C: 轴颈", "D: 轴头"],
                    correct: "D"
                },
                {
                    question: "在下列键联接中，键槽对轴的强度削弱最大的是",
                    options: ["A: 钩头楔键", "B: 半圆键", "C: 普通平键", "D: 导向平键"],
                    correct: "B"
                },
                {
                    question: "深沟球轴承的类型代号是",
                    options: ["A: 3", "B: 4", "C: 5", "D: 6"],
                    correct: "D"
                },
                {
                    question: "左视图所在的投影面简称为",
                    options: ["A: 正面", "B: 反面", "C: 侧面", "D: 水平面"],
                    correct: "C"
                },
                {
                    question: "三视图的投影规律中，主视图与俯视图应",
                    options: ["A: 长对正", "B: 高平齐", "C: 宽相等", "D: 长对正、宽也相等"],
                    correct: "A"
                },
                {
                    question: "在机械图样中，绘制移出断面图的轮廓线用",
                    options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
                    correct: "B"
                },
                {
                    question: "据螺纹的规定画法，绘制外螺纹的螺纹大径用",
                    options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
                    correct: "A"
                },
                {
                    question: "在下列钢号中，属于合金结构钢的是",
                    options: ["A: T10A", "B: 40Cr", "C: Q235", "D: CrWMn"],
                    correct: "B"
                },
                {
                    question: "HT200表示的材料为",
                    options: ["A: 黄铜", "B: 碳钢", "C: 合金钢", "D: 铸铁"],
                    correct: "D"
                },
                {
                    question: "在下列的螺纹中，自锁性能最好的是",
                    options: ["A: 矩形螺纹", "B: 三角形螺纹", "C: 锯齿形螺纹", "D: 梯形螺纹"],
                    correct: "B"
                },
                {
                    question: "普通螺纹的牙型角为",
                    options: ["A: 0°", "B: 30°", "C: 55°", "D: 60°"],
                    correct: "D"
                },
                {
                    question: "按国家标准，普通V带型号有",
                    options: ["A: 六种", "B: 七种", "C: 八种", "D: 九种"],
                    correct: "B"
                },
                {
                    question: "有一标准直齿圆柱齿轮，模数为2mm,齿数为21,这个齿轮的分度圆直径为",
                    options: ["A: 38mm", "B: 40mm", "C: 42mm", "D: 45mm"],
                    correct: "C"
                },
                {
                    question: "齿轮上形成渐开线的圆称为",
                    options: ["A: 齿顶圆", "B: 齿根圆", "C: 分度圆", "D: 基圆"],
                    correct: "D"
                },
                {
                    question: "对于齿数相同的齿轮，模数越大，齿轮的承载能力",
                    options: ["A: 越小", "B: 越大", "C: 有时候大，有时候小", "D: 与模数无关"],
                    correct: "B"
                },
                {
                    question: "链传动是",
                    options: ["A: 具有中间刚性件的啮合传动", "B: 具有中间弹性件的啮合传动", "C: 具有中间挠性件的啮合传动", "D: 不存在啮合传动"],
                    correct: "C"
                },
                {
                    question: "铰链四杆机构中，与机架相连且只能在某一角度内摆动的构件称为",
                    options: ["A: 摇杆", "B: 曲柄", "C: 连杆", "D: 机架"],
                    correct: "A"
                },
                {
                    question: "常见的凸轮机构中，主动件凸轮通常作",
                    options: ["A: 变速移动", "B: 变速转动", "C: 变速转动或移动", "D: 等速转动或移动"],
                    correct: "D"
                },
                {
                    question: "轴与轴承相配合的轴段称为",
                    options: ["A: 轴环", "B: 轴肩", "C: 轴颈", "D: 轴头"],
                    correct: "C"
                },
                {
                    question: "半圆键的工作面是键的",
                    options: ["A: 上表面", "B: 圆表面", "C: 两侧面", "D: 上表面和圆表面"],
                    correct: "C"
                },
                {
                    question: "滚动轴承代号3210中，10是轴承的",
                    options: ["A: 内径代号", "B: 外径代号", "C: 宽（高）度代号", "D: 类型代号"],
                    correct: "A"
                },
                {
                    question: "尺寸标注中，符号Φ是表示",
                    options: ["A: 直径", "B: 半径", "C: 球直径", "D: 球半径"],
                    correct: "A"
                },
                {
                    question: "主视图反映零件的",
                    options: ["A: 长度和高度", "B: 长度和宽度", "C: 宽度和高度", "D: 长度"],
                    correct: "A"
                },
                {
                    question: "在机械图样中，绘制对称中心线、轴线等一般用",
                    options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
                    correct: "D"
                },
                {
                    question: "在齿轮的端面视图中绘制分度圆用",
                    options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
                    correct: "D"
                },
                {
                    question: "Q235钢是",
                    options: ["A: 工具钢", "B: 结构钢", "C: 轴承钢", "D: 特殊性能钢"],
                    correct: "B"
                },
                {
                    question: "一般碳素工具钢为",
                    options: ["A: 高碳钢", "B: 中碳钢", "C: 低碳钢", "D: 中碳钢或低碳钢"],
                    correct: "A"
                },
                {
                    question: "联接螺纹首先要求自锁性好，而传动螺纹首先要求",
                    options: ["A: 强度高", "B: 平稳性好", "C: 效率高", "D: 自锁性也好"],
                    correct: "C"
                },
                {
                    question: "非螺纹密封管螺纹的牙型角为",
                    options: ["A: 0°", "B: 30°", "C: 55°", "D: 60°"],
                    correct: "C"
                },
                {
                    question: "普通V带的横截面形状为",
                    options: ["A: 矩形", "B: 等腰形", "C: 圆形", "D: 扁平形"],
                    correct: "B"
                },
                {
                    question: "标准正常齿制直齿圆柱齿轮的全齿高等于",
                    options: ["A: 2.25m", "B: 2m", "C: 1.25m", "D: m"],
                    correct: "A"
                },
                {
                    question: "国家标准中规定齿轮压力角是在",
                    options: ["A: 齿顶圆上", "B: 齿根圆上", "C: 分度圆上", "D: 基圆上"],
                    correct: "C"
                },
                {
                    question: "下列齿轮传动中，属于交错轴齿轮传动的是",
                    options: ["A: 直齿圆柱齿轮传动", "B: 蜗杆传动", "C: 直齿圆锥齿轮传动", "D: 齿轮齿条传动"],
                    correct: "B"
                },
                {
                    question: "下列传动中，属于啮合类传动的是",
                    options: ["A: 链传动", "B: 平带传动", "C: 圆带传动", "D: 普通V带传动"],
                    correct: "A"
                },
                {
                    question: "双摇杆机构具有",
                    options: ["A: 一个曲柄", "B: 一个摇杆", "C: 两个曲柄", "D: 两个摇杆"],
                    correct: "D"
                },
                {
                    question: "凸轮机构从动件的端部结构最容易磨损的是",
                    options: ["A: 球面", "B: 尖顶", "C: 平底", "D: 滚子"],
                    correct: "B"
                },
                {
                    question: "直轴和曲轴的区别在于",
                    options: ["A: 工作状态不同", "B: 轴的直径不同", "C: 轴线形状不同", "D: 承载情况不同"],
                    correct: "C"
                },
                {
                    question: "在下列键联接中，键槽对轴的强度削弱最大的是",
                    options: ["A: 导向平键", "B: 钩头楔键", "C: 半圆键", "D: 普通平键"],
                    correct: "C"
                },
                {
                    question: "滚动轴承内圈通常装在轴颈上，一般内圈与轴",
                    options: ["A: 固定不动", "B: 反向转动", "C: 相对转动", "D: 一起转动"],
                    correct: "D"
                },
                {
                    question: "绘制机械图样主要采用",
                    options: ["A: 中心投影法", "B: 正投影法", "C: 斜投影法", "D: 中心投影法和斜投影法都可"],
                    correct: "B"
                },
                {
                    question: "在六个基本视图中，主视图反映物体的",
                    options: ["A: 长度、宽度和高度", "B: 宽度和高度", "C: 长度和宽度", "D: 长度和高度"],
                    correct: "D"
                },
                {
                    question: "在剖视图中绘制金属材料的剖面线用适当角度的",
                    options: ["A: 细实线", "B: 粗实线", "C: 细点画线", "D: 虚线"],
                    correct: "A"
                },
                {
                    question: "根据齿轮的规定画法，在表示齿轮端面的视图中绘制分度圆用",
                    options: ["A: 粗实线", "B: 细实线", "C: 虚线", "D: 细点画线"],
                    correct: "D"
                },
                {
                    question: "45钢是",
                    options: ["A: 工具钢", "B: 结构钢", "C: 轴承钢", "D: 特殊性能钢"],
                    correct: "B"
                },
                {
                    question: "一般低合金工具钢为",
                    options: ["A: 高碳钢", "B: 中碳钢", "C: 低碳钢", "D: 中碳钢或低碳钢"],
                    correct: "D"
                },
                {
                    question: "传动螺纹首先要求效率高，而联接螺纹首先要求",
                    options: ["A: 强度高", "B: 平稳性好", "C: 自锁性好", "D: 效率也高"],
                    correct: "C"
                },
                {
                    question: "牙型角为60°的螺纹是",
                    options: ["A: 梯形螺纹", "B: 普通螺纹", "C: 锯齿形螺纹", "D: 管螺纹"],
                    correct: "B"
                },
                {
                    question: "V带传动中，V带的工作面是",
                    options: ["A: 单侧面", "B: 两侧面", "C: 内圆周面", "D: 外圆周面"],
                    correct: "B"
                },
                {
                    question: "某正常齿制标准外啮合直齿圆柱齿轮的全齿高等于9mm,其模数等于",
                    options: ["A: 4mm", "B: 3mm", "C: 2.5mm", "D: 2mm"],
                    correct: "A"
                },
                    {
                        question: "齿轮上形成渐开线的圆称为",
                        options: ["A: 齿顶圆", "B: 齿根圆", "C: 分度圆", "D: 基圆"],
                        correct: "D"
                    },
                        {
                            question: "直齿圆锥齿轮传动属于",
                            options: ["A: 交错轴齿轮传动", "B: 平行轴齿轮传动", "C: 相交轴齿轮传动", "D: 任意位置轴齿轮传动"],
                            correct: "C"
                        },
                        {
                            question: "链传动只限用于",
                            options: ["A: 相交轴间的传动", "B: 交错轴间的传动", "C: 平行轴间的传动", "D: 交叉轴间的传动"],
                            correct: "C"
                        },
                        {
                            question: "在曲柄摇杆机构中，最短的构件是",
                            options: ["A: 摇杆", "B: 曲柄", "C: 连杆", "D: 机架"],
                            correct: "B"
                        },
                        {
                            question: "凸轮机构中凸轮与从动件接触处的运动副属于",
                            options: ["A: 低副", "B: 移动副", "C: 转动副", "D: 高副"],
                            correct: "D"
                        },
                        {
                            question: "在阶梯轴上的回转件最常用的轴向固定形式是",
                            options: ["A: 平键联接", "B: 圆锥销联接", "C: 轴肩和轴环", "D: 花键联接"],
                            correct: "C"
                        },
                        {
                            question: "在下列键联接中，对中性最好的是",
                            options: ["A: 切向键", "B: 钩头楔键", "C: 普通楔键", "D: 普通平键"],
                            correct: "D"
                        },
                        {
                            question: "只能承受径向载荷的滚动轴承是",
                            options: ["A: 推力球轴承", "B: 圆锥滚子轴承", "C: 深沟球轴承", "D: 圆柱滚子轴承"],
                            correct: "D"
                        },
                        {
                            question: "图样不论放大或缩小绘制，在标注尺寸时应标注",
                            options: ["A: 机件的毛坯尺寸", "B: 机件的工艺尺寸", "C: 机件放大或缩小之后的图中数值", "D: 机件完工后的尺寸"],
                            correct: "D"
                        },
                        {
                            question: "在六个基本视图中，俯视图反映物体的",
                            options: ["A: 长度、宽度和高度", "B: 长度和高度", "C: 长度和宽度", "D: 宽度和高度"],
                            correct: "C"
                        },
                        {
                            question: "在机械图样中，绘制局部视图的断裂边界常用",
                            options: ["A: 粗实线", "B: 细点画线", "C: 波浪线", "D: 双点画线"],
                            correct: "C"
                        },
                        {
                            question: "根据螺纹的规定画法，绘制外螺纹的螺纹大径用",
                            options: ["A: 虚线", "B: 细实线", "C: 细点画线", "D: 粗实线"],
                            correct: "D"
                        },
                        {
                            question: "9SiCr钢是",
                            options: ["A: 结构钢", "B: 工具钢", "C: 轴承钢", "D: 特殊性能钢"],
                            correct: "B"
                        },
                        {
                            question: "HT200表示材料为",
                            options: ["A: 灰铸铁", "B: 碳钢", "C: 合金钢", "D: 黄铜"],
                            correct: "A"
                        },
                        {
                            question: "在下列螺纹中自锁性能最好的是",
                            options: ["A: 粗牙普通螺纹", "B: 细牙普通螺纹", "C: 梯形螺纹", "D: 矩形螺纹"],
                            correct: "B"
                        },
                        {
                            question: "普通螺纹的公称直径是指",
                            options: ["A: 螺纹小径", "B: 螺纹中径", "C: 螺纹大径", "D: 螺纹平均直径"],
                            correct: "C"
                        },
                        {
                            question: "具有准确传动比的带传动是",
                            options: ["A: 普通V带传动", "B: 平带传动", "C: 窄V带传动", "D: 同步带传动"],
                            correct: "D"
                        },
                        {
                            question: "在标准直齿圆柱齿轮中，模数与齿数的乘积为",
                            options: ["A: 齿根圆直径", "B: 齿顶圆直径", "C: 基圆直径", "D: 分度圆直径"],
                            correct: "D"
                        },
                        {
                            question: "渐开线齿轮传动的瞬时传动比",
                            options: ["A: 增大或减小", "B: 恒定", "C: 增大", "D: 减小"],
                            correct: "B"
                        },
                        {
                            question: "蜗传动属于",
                            options: ["A: 相交轴齿轮传动", "B: 平行轴齿轮传动", "C: 交错轴齿轮传动", "D: 任意位置轴齿轮传动"],
                            correct: "C"
                        },
                        {
                            question: "链传动与带传动相比",
                            options: ["A: 能过载安全保护", "B: 传动效率低", "C: 平均传动比准确", "D: 作用在轴和轴承上的力较大"],
                            correct: "C"
                        },
                        {
                            question: "在曲柄摇杆机构中，曲柄的长度",
                            options: ["A: 最短", "B: 最长", "C: 大于摇杆长度", "D: 大于连杆长度"],
                            correct: "A"
                        },
                        {
                            question: "凸轮机构中，凸轮通常作",
                            options: ["A: 变速移动", "B: 变速转动", "C: 变速转动或移动", "D: 等速转动或移动"],
                            correct: "D"
                        },
                        {
                            question: "齿轮、带轮等传动件在轴上作周向固定最广泛使用的方法是",
                            options: ["A: 过盈配合", "B: 螺纹联接", "C: 键联接", "D: 销联接"],
                            correct: "C"
                        },
                        {
                            question: "下列键联接中，属于紧键联接的是",
                            options: ["A: 半圆键联接", "B: 花键联接", "C: 普通平键联接", "D: 楔键联接"],
                            correct: "D"
                        },
                        {
                            question: "在选用滚动轴承时，应考虑轴承的极限转速，高速时应优先选用",
                            options: ["A: 圆锥滚子轴承", "B: 推力球轴承", "C: 圆柱滚子轴承", "D: 球轴承"],
                            correct: "D"
                        },
                        {
                            question: "主视图所在的投影面又称为",
                            options: ["A: 正面", "B: 侧面", "C: 水平面", "D: 垂直面"],
                            correct: "A"
                        },
                        {
                            question: "在六个基本视图中，左视图反映物体的",
                            options: ["A: 长度、宽度和高度", "B: 宽度和高度", "C: 长度和宽度", "D: 长度和高度"],
                            correct: "B"
                        },
                        {
                            question: "绘制半剖视图时，半个视图和半个剖视图的分界线应为",
                            options: ["A: 粗实线", "B: 细实线", "C: 细点画线", "D: 虚线"],
                            correct: "C"
                        },
                        {
                            question: "根据螺纹的规定画法，绘制外螺纹的螺纹小径用",
                            options: ["A: 粗实线", "B: 细实线", "C: 细点画线", "D: 虚线"],
                            correct: "B"
                        },
        {
            question: "在下列钢号中，属于碳素结构钢的是",
            options: ["A: 45", "B: T7A", "C: 9SiCr", "D: 40Cr"],
            correct: "A"
        },
        {
            question: "适合用于制造手锤的材料是",
            options: ["A: 结构钢", "B: 工具钢", "C: 特殊性能钢", "D: 铸铁"],
            correct: "B"
        },
        {
            question: "常用的联接螺纹是",
            options: ["A: 双线左旋", "B: 双线右旋", "C: 单线左旋", "D: 单线右旋"],
            correct: "D"
        },
        {
            question: "一般管螺纹的牙型角为",
            options: ["A: 60°", "B: 55°", "C: 30°", "D: 0°"],
            correct: "B"
        },
        {
            question: "下列带传动中，不属于摩擦型带传动的是",
            options: ["A: 同步带传动", "B: 圆带传动", "C: V带传动", "D: 平带传动"],
            correct: "A"
        },
        {
            question: "有一对外啮合标准直齿圆柱齿轮，模数为2mm，大齿轮齿数为60，小齿轮齿数为40, 这对齿轮的中心距为",
            options: ["A: 130mm", "B: 120mm", "C: 100mm", "D: 80mm"],
            correct: "C"
        },
        {
            question: "国家标准中规定齿轮压力角是在",
            options: ["A: 分度圆上", "B: 基圆上", "C: 齿根圆上", "D: 齿顶圆上"],
            correct: "A"
        },
        {
            question: "对于齿数相同的齿轮，模数越大，齿轮的承载能力",
            options: ["A: 有时候大，有时候小", "B: 与模数无关", "C: 越小", "D: 越大"],
            correct: "D"
        },
        {
            question: "下列传动中，属于啮合类传动的是",
            options: ["A: 平带传动", "B: 普通V带传动", "C: 圆带传动", "D: 链传动"],
            correct: "D"
        },
        {
            question: "双摇杆机构具有",
            options: ["A: 两个曲柄", "B: 一个曲柄", "C: 两个摇杆", "D: 一个摇杆"],
            correct: "C"
        },
        {
            question: "在生产实际中最为常见的凸轮是",
            options: ["A: 圆柱凸轮", "B: 盘形凸轮", "C: 移动凸轮", "D: 曲面凸轮"],
            correct: "B"
        },
        {
            question: "轴由滚动轴承支承时，其轴颈直径必须符合滚动轴承的",
            options: ["A: 宽度系列", "B: 内径系列", "C: 高度系列", "D: 外径系列"],
            correct: "B"
        },
        {
            question: "以键的两侧面为工作面的是",
            options: ["A: 普通楔键", "B: 钩头楔键", "C: 半圆键", "D: 切向键"],
            correct: "C"
        },
        {
            question: "深沟球轴承的滚动轴承类型代号是",
            options: ["A: 6", "B: 5", "C: 4", "D: 3"],
            correct: "A"
        },
        {
            question: "绘制某机件图样时采用比例为5:1，该比例为",
            options: ["A: 任意比例", "B: 放大比例", "C: 缩小比例", "D: 原值比例"],
            correct: "B"
        },
        {
            question: "主视图所在的投影面简称为",
            options: ["A: 水平面", "B: 正面", "C: 反面", "D: 侧面"],
            correct: "B"
        },
        {
            question: "在剖视图中绘制外螺纹大径用",
            options: ["A: 虚线", "B: 点画线", "C: 细实线", "D: 粗实线"],
            correct: "D"
        },
        {
            question: "在AutoCAD中取消已执行的命令，可以使用命令",
            options: ["A: Trim", "B: Save", "C: Open", "D: Undo"],
            correct: "D"
        }
        ];
    let currentQuestionIndex = 0;
    let selectedQuestions = [];
    let userAnswers = {};
    let userName = '';
    let countdownTimer;
    let remainingTime = CONFIG.totalTime; // 记录剩余时间

    function initApp() {
      const nameSelect = document.getElementById('nameSelect');
      nameSelect.innerHTML = '<option value="" disabled selected>请选择姓名</option>';
      studentList.forEach(student => {
        const option = document.createElement('option');
        option.value = student;
        option.textContent = student;
        nameSelect.appendChild(option);
      });
      nameSelect.disabled = false;
    }

    function getRankData() {
      return JSON.parse(localStorage.getItem(CONFIG.storageKey)) || {};
    }

    function updateHighScore(name, newScore, usedTime) {
      const rankData = getRankData();
      if (!rankData[name] || newScore > rankData[name].score ||
        (newScore === rankData[name].score && usedTime < rankData[name].time)) {
        rankData[name] = { score: newScore, time: usedTime };
        localStorage.setItem(CONFIG.storageKey, JSON.stringify(rankData));
      }
    }

    function generateRankList() {
      const rankData = getRankData();
      const sortedList = Object.entries(rankData).sort((a, b) => {
        if (b[1].score !== a[1].score) return b[1].score - a[1].score;
        return a[1].time - b[1].time; // 分数相同时用时短的排前
      }).slice(0, 300);

      let html = sortedList.length ? '' : '<div style="text-align:center; color:#666;">暂无成绩记录</div>';
      sortedList.forEach(([name, data], index) => {
        html += `<div class="rank-item">
          <div class="rank-number">${index + 1}.</div>
          <div class="rank-name">${name}</div>
          <div class="rank-score">${data.score}分 (${formatTime(data.time)})</div>
        </div>`;
      });
      document.getElementById('rankList').innerHTML = html;
    }

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
    }

    function showRank() {
      generateRankList();
      document.getElementById('rankBox').style.display = 'block';
    }

    function closeRank() {
      document.getElementById('rankBox').style.display = 'none';
    }

function checkPassword() {
  const selectedName = document.getElementById('nameSelect').value;
  const password = document.getElementById('passwordInput').value;
  
  if (!selectedName) return alert('请选择姓名！');
  if (password !== "2426") return alert('密码错误，请重新输入！'); // 密码验证
  
  userName = selectedName;
  document.getElementById('passwordScreen').style.display = 'none';
  document.getElementById('quizScreen').style.display = 'block';
  initializeQuiz();
  startTimer();
}

    function startTimer() {
      countdownTimer = setInterval(() => {
        remainingTime--;
        const minutesLeft = Math.floor(remainingTime / 60);
        const secondsLeft = remainingTime % 60;
        document.getElementById('timer').textContent =
          `${String(minutesLeft).padStart(2, '0')}:${String(secondsLeft).padStart(2, '0')}`;
        if (remainingTime <= 0) {
          clearInterval(countdownTimer);
          submitQuiz();
        }
      }, 1000);
    }

    function initializeQuiz() {
      selectedQuestions = questions.sort(() => 0.5 - Math.random()).slice(0, CONFIG.totalQuestions);
      showQuestion(currentQuestionIndex);
      document.getElementById('confirmBtn').style.display = 'block';
    }

    function showQuestion(index) {
      const q = selectedQuestions[index];
      let html = `<div class="question"><p>第${index + 1}题：${q.question}</p><div class="options">`;
      q.options.forEach(option => html += `
        <label>
          <input type="radio" name="currentQ" value="${option[0]}">
          ${option}
        </label>`);
      html += `</div></div>`;
      document.getElementById('currentQuestion').innerHTML = html;
    }

    function checkAnswer() {
      const selected = document.querySelector('input[name="currentQ"]:checked');
      if (!selected) return alert('请选择答案！');

      const q = selectedQuestions[currentQuestionIndex];
      const feedback = document.getElementById('feedback');
      userAnswers[currentQuestionIndex] = selected.value;

      feedback.className = selected.value === q.correct ? 'feedback correct-feedback' : 'feedback wrong-feedback';
      feedback.innerHTML = selected.value === q.correct ? "✅ 回答正确！" : `❌ 回答错误！正确答案：${q.correct}`;

      document.getElementById('nextBtn').textContent =
        currentQuestionIndex === selectedQuestions.length - 1 ? '提交答案' : '下一题';

      feedback.style.display = 'block';
      document.getElementById('confirmBtn').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'block';
    }

    function showNextQuestion() {
      document.getElementById('feedback').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'none';

      if (currentQuestionIndex < selectedQuestions.length - 1) {
        currentQuestionIndex++;
        showQuestion(currentQuestionIndex);
        document.getElementById('confirmBtn').style.display = 'block';
      } else {
        submitQuiz();
      }
    }

    function submitQuiz() {
      clearInterval(countdownTimer);
      const usedTime = CONFIG.totalTime - remainingTime; // 计算实际用时

      let correct = selectedQuestions.reduce((acc, q, index) =>
        acc + (userAnswers[index] === q.correct ? 1 : 0), 0);

      const totalScore = correct * CONFIG.scorePerQuestion;
      updateHighScore(userName, totalScore, usedTime);

      document.getElementById('quizScreen').style.display = 'none';
      document.getElementById('resultScreen').style.display = 'block';

      const resultName = document.querySelector('#finalResult h2');
      const resultScore = document.querySelector('#finalResult .score');
      const resultCount = document.querySelector('#finalResult h3');

      resultName.textContent = `考生姓名：${userName}`;
      resultScore.textContent = `得分：${totalScore}分 (用时：${formatTime(usedTime)})`;
      resultCount.textContent = `正确：${correct}题 / 总计：${CONFIG.totalQuestions}题`;
      window.scrollTo(0, 0);
    }

    document.addEventListener('DOMContentLoaded', function () {
      initApp();
      localStorage.getItem(CONFIG.storageKey) || localStorage.setItem(CONFIG.storageKey, JSON.stringify({}));
    });
  </script>
</body>
</html>
